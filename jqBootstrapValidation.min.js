(function(a){function b(a){var b=new RegExp("^"+a+"$");return b}var c={validatorTypes:{regex:{name:"regex",init:function(a,c){return{regex:b(a.data("validation"+c+"Regex"))}},validate:function(a,b,c){return!c.regex.test(b)&&!c.negative||c.regex.test(b)&&c.negative}},required:{name:"required",init:function(a,b){return{}},validate:function(a,b,c){return b==false&&!c.negative||b==true&&c.negative}},match:{name:"match",init:function(a,b){var c=a.parents("form").first().find('[name="'+a.data("validation"+b+"Match")+'"]').first();c.bind("validation.validation",function(){a.trigger("change.validation")});return{element:c}},validate:function(a,b,c){return b!=c.element.val()&&!c.negative||b==c.element.val()&&c.negative}},max:{name:"max",init:function(a,b){return{max:a.data("validation"+b+"Max")}},validate:function(a,b,c){return parseFloat(b,10)>parseFloat(c.max,10)&&!c.negative||parseFloat(b,10)<=parseFloat(c.max,10)&&c.negative}},min:{name:"min",init:function(a,b){return{min:a.data("validation"+b+"Min")}},validate:function(a,b,c){return parseFloat(b)<parseFloat(c.min)&&!c.negative||parseFloat(b)>=parseFloat(c.min)&&c.negative}},maxlength:{name:"maxlength",init:function(a,b){return{maxlength:a.data("validation"+b+"Maxlength")}},validate:function(a,b,c){return b.length>c.maxlength&&!c.negative||b.length<=c.maxlength&&c.negative}},minlength:{name:"minlength",init:function(a,b){return{minlength:a.data("validation"+b+"Minlength")}},validate:function(a,b,c){return b.length<=c.minlength&&!c.negative||b.length>c.minlength&&c.negative}},maxchecked:{name:"maxchecked",init:function(a,b){var c=a.parents("form").first().find('[name="'+a.attr("name")+'"]');c.bind("click.validation",function(){a.trigger("change.validation")});return{maxchecked:a.data("validation"+b+"Maxchecked"),elements:c}},validate:function(a,b,c){return c.elements.filter(":checked").length>c.maxchecked&&!c.negative||c.elements.filter(":checked").length<=c.maxchecked&&c.negative}},minchecked:{name:"minchecked",init:function(a,b){var c=a.parents("form").first().find('[name="'+a.attr("name")+'"]');c.bind("click.validation",function(){a.trigger("change.validation")});return{minchecked:a.data("validation"+b+"Minchecked"),elements:c}},validate:function(a,b,c){return c.elements.filter(":checked").length<c.minchecked&&!c.negative||c.elements.filter(":checked").length>=c.minchecked&&c.negative}}},builtInValidators:{email:{name:"Email",type:"shortcut",shortcut:"validemail"},validemail:{name:"Validemail",type:"regex",regex:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}",message:"Not a valid email address<!-- data-validator-validemail-message to override -->"},passwordagain:{name:"Passwordagain",type:"match",match:"password",message:"Does not match the given password<!-- data-validator-paswordagain-message to override -->"},positive:{name:"Positive",type:"shortcut",shortcut:"number,positivenumber"},negative:{name:"Negative",type:"shortcut",shortcut:"number,negativenumber"},number:{name:"Number",type:"regex",regex:"[+-]?\\d+(\\.\\d*)?",message:"Must be a number<!-- data-validator-number-message to override -->"},integer:{name:"Integer",type:"regex",regex:"[+-]?\\d+",message:"No decimal places allowed<!-- data-validator-integer-message to override -->"},positivenumber:{name:"Positivenumber",type:"min",min:0,message:"Must be a positive number<!-- data-validator-positivenumber-message to override -->"},negativenumber:{name:"Negativenumber",type:"max",max:0,message:"Must be a negative number<!-- data-validator-negativenumber-message to override -->"},required:{name:"Required",type:"required",message:"This is required<!-- data-validator-required-message to override -->"},checkone:{name:"Checkone",type:"minchecked",minchecked:1,message:"Check at least one option<!-- data-validation-checkone-message to override -->"}},options:{lookupValidators:false,sniffHtml:true,preventSubmit:false}};var d=function(a){return a.toLowerCase().replace(/(^|\s)([a-z])/g,function(a,b,c){return b+c.toUpperCase()})};var e=function(b){var c=b.val();var d=b.attr("type");if(d=="checkbox"){c=b.is(":checked")?"1":"0"}if(d=="radio"){c=a('input[name="'+b.attr("name")+'"]:checked').length>0?"1":"0"}return c};var f={init:function(b){var f=a.extend(c,b);var g=this;g.first().parents("form").bind("submit",function(b){var c=a(this);if(f.options.preventSubmit){var d=0;g.trigger("change.validation").each(function(b,c){var e=a(c).parents(".control-group").first();if(e.hasClass("warning")){e.removeClass("warning").addClass("error");d++}});if(d>0){b.preventDefault()}}});return this.each(function(){var b=a(this),c=b.parents(".control-group").first(),g=c.find(".help-block").first(),h=b.parents("form").first(),i=[];if(f.options.sniffHtml){var j="";if(b.attr("pattern")!==undefined){j="Not in the expected format<!-- data-validation-pattern-message to override -->";if(b.data("validationPatternMessage")){j=b.data("validationPatternMessage")}b.data("validationRegexMessage",j);b.data("validationRegexRegex",b.attr("pattern"))}if(b.attr("max")!==undefined){j="Too high: Maximum of '"+b.attr("max")+"'<!-- data-validation-max-message to override -->";if(b.data("validationMaxMessage")){j=b.data("validationMaxMessage")}b.data("validationMaxMessage",j);b.data("validationMaxMax",b.attr("max"))}if(b.attr("min")!==undefined){j="Too low: Minimum of '"+b.attr("min")+"'<!-- data-validation-min-message to override -->";if(b.data("validationMinMessage")){j=b.data("validationMinMessage")}b.data("validationMinMessage",j);b.data("validationMinMin",b.attr("min"))}if(b.attr("maxlength")!==undefined){j="Too long: Maximum of '"+b.attr("maxlength")+"' characters<!-- data-validation-maxlength-message to override -->";if(b.data("validationMaxlengthMessage")){j=b.data("validationMaxlengthMessage")}b.data("validationMaxlengthMessage",j);b.data("validationMaxlengthMaxlength",b.attr("maxlength"))}if(b.attr("minlength")!==undefined){j="Too short: Minimum of '"+b.attr("minlength")+"' characters<!-- data-validation-minlength-message to override -->";if(b.data("validationMinlengthMessage")){j=b.data("validationMinlengthMessage")}b.data("validationMinlengthMessage",j);b.data("validationMinlengthMinlength",b.attr("minlength"))}if(b.attr("required")!==undefined){j=f.builtInValidators.required.message;if(b.data("validationRequiredMessage")){j=b.data("validationRequiredMessage")}b.data("validationRequiredMessage",j)}if(b.attr("type")=="number"){j=f.builtInValidators.number.message;if(b.data("validationNumberMessage")){j=b.data("validationNumberMessage")}b.data("validationNumberMessage",j)}if(b.attr("type")=="email"){j="Not a valid email address<!-- data-validator-validemail-message to override -->";if(b.data("validationValidemailMessage")){j=b.data("validationValidemailMessage")}b.data("validationValidemailMessage",j)}if(b.attr("minchecked")!==undefined){j="Not enough options checked; Minimum of '"+b.attr("minchecked")+"' required<!-- data-validation-minchecked-message to override -->";if(b.data("validationMincheckedMessage")){j=b.data("validationMincheckedMessage")}b.data("validationMincheckedMessage",j);b.data("validationMincheckedMinchecked",b.attr("minchecked"))}if(b.attr("maxchecked")!==undefined){j="Too many options checked; Maximum of '"+b.attr("maxchecked")+"' required<!-- data-validation-maxchecked-message to override -->";if(b.data("validationMaxcheckedMessage")){j=b.data("validationMaxcheckedMessage")}b.data("validationMaxcheckedMessage",j);b.data("validationMaxcheckedMaxchecked",b.attr("maxchecked"))}}if(b.data("validation")!=undefined){i=b.data("validation").split(",")}a.each(b.data(),function(a,b){var c=a.replace(/([A-Z])/g,",$1").split(",");if(c[0]=="validation"&&c[1]){i.push(c[1])}});var k=i;var l=[];do{a.each(i,function(a,b){i[a]=d(b)});i=a.unique(i);l=[];a.each(k,function(c,e){if(b.data("validation"+e+"Shortcut")!=undefined){a.each(b.data("validation"+e+"Shortcut").split(","),function(a,b){l.push(b)})}else if(f.builtInValidators[e.toLowerCase()]){var g=f.builtInValidators[e.toLowerCase()];if(g.type.toLowerCase()=="shortcut"){a.each(g.shortcut.split(","),function(a,b){b=d(b);l.push(b);i.push(b)})}}});k=l}while(k.length>0);var m={};a.each(i,function(c,e){var g=b.data("validation"+e+"Message");var h=g!=undefined;var i=false;g=g?g:"'"+e+"' validation failed <!-- Add attribute 'data-validation-"+e.toLowerCase()+"-message' to input to change this message -->";a.each(f.validatorTypes,function(c,f){if(m[c]==undefined){m[c]=[]}if(!i&&b.data("validation"+e+d(f.name))!==undefined){m[c].push(a.extend(true,{name:d(f.name),message:g},f.init(b,e)));i=true}});if(!i&&f.builtInValidators[e.toLowerCase()]){var j=a.extend(true,{},f.builtInValidators[e.toLowerCase()]);if(h){j.message=g}var k=j.type.toLowerCase();if(k=="shortcut"){i=true}else{a.each(f.validatorTypes,function(c,f){if(m[c]==undefined){m[c]=[]}if(!i&&k==c.toLowerCase()){b.data("validation"+e+d(f.name),j[f.name.toLowerCase()]);m[k].push(a.extend(j,f.init(b,e)));i=true}})}}if(!i){a.error("Cannot find validation info for '"+e+"'")}});g.data("original-contents",g.data("original-contents")?g.data("original-contents"):g.html());c.data("original-classes",c.attr("class"));b.bind("validation.validation",function(c){c=c;var d=e(b);var g=[];if(d||d.length){a.each(m,function(c,e){a.each(e,function(a,e){if(f.validatorTypes[c].validate(b,d,e)){g.push(e.message)}})})}return g});b.bind(["keyup","focus","blur","click","keydown","keypress","change"].join(".validation ")+".validation",function(d){var f=e(b);var i=[];c.find("input,textarea,select").each(function(b,c){a.each(a(c).triggerHandler("validation.validation"),function(a,b){i.push(b)})});h.find("input,select,textarea").not(b).not('[name="'+b.attr("name")+'"]').trigger("validationLostFocus.validation");i=a.unique(i);if(i.length){c.removeClass("success error").addClass("warning");g.html("<ul><li>"+i.join("</li><li>")+"</li></ul>")}else{c.removeClass("warning error success");if(f.length>0){c.addClass("success")}g.html(g.data("original-contents"));if(d.type!="validation"){}}if(d.type=="blur"){c.removeClass("success")}});b.bind("validationLostFocus.validation",function(){c.removeClass("success")})})},destroy:function(){return this.each(function(){var b=a(this),c=b.parents(".control-group").first(),d=c.find(".help-block").first();b.unbind(".validation");d.html(d.data("original-contents"));c.attr("class",c.data("original-classes"))})}};a.fn.bootstrapValidation=function(b){if(f[b]){return f[b].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof b==="object"||!b){return f.init.apply(this,arguments)}else{a.error("Method "+b+" does not exist on jQuery.bootstrapValidation");return null}}})(jQuery)